!function(){"use strict";angular.module("configurations",[])}(),function(){"use strict";function n(n,t,s){var a=[],u=s,c="/data.json";this.registerOption=function(n,i,e){n.keyID=e,n.willSave=i,a.push(n)},this.saveConfigurations=function(){(i||o)&&console.debug(a);var t;try{t=require("fs")}catch(n){return void((r||o)&&console.error("Require is not defined. Run in a NWJS window/app to save configurations"))}u.configs={};for(var l=0;l<a.length;l++){var f=a[l];u.configs[f.type]||(u.configs[f.type]=[]);var g={keyID:f.keyID};if(f.willSave instanceof Array)for(var v=0;v<f.willSave.length;v++)g[f.willSave[v]]=f[f.willSave[v]];else"auto"==f.willSave||(g[f.willSave]=f[f.willSave]);u.configs[f.type].push(g)}n.$apply(),t.writeFile(process.cwd()+c,angular.toJson(s.configs," "),function(n){n?(r||o)&&console.error("Error saving file:"+n):(e||o)&&console.info("File saved to "+outputFilename)})},this.getData=function(n){t.get(process.cwd()+c).then(n)}}var i=!1,e=!1,o=!0,r=!0;angular.module("configurations").controller("configurationsController",["$scope","$http","sharedConfigurations",n])}(),function(){"use strict";angular.module("configurations").directive("configurations",function(){return{restrict:"E",controller:"configurationsController"}})}(),function(){"use strict";angular.module("configurations").factory("sharedConfigurations",function(){return{configs:{}}})}(),function(){"use strict";function n(n,i){var e=Object.keys(n),o=0;do{var r=e[o];i[r]=n[r]}while(e.length>++o)}function i(n,i){var o,t;for((e||r)&&console.debug("Searching for id",n,"in",i),t=0;t<i.length;t++)if(i[t].keyID===n){o=i[t],(e||r)&&console.log("found!");break}return o}var e=!1,o=!0,r=!0,t=function(t,s,a,u){var c=t.$id;(e||r)&&console.debug("Object received in scope:",t.grPersist),t.grPersist||(t.grPersist="auto"),u.registerOption(s[0],t.grPersist,c),u.getData(function(e){var t=e.data;if(angular.equals({},t))return void((o||r)&&console.info("Seems like the file needed to configure views is empty"));var a=s[0],u=a.type,l=t[u];if(l){var f=i(c,l);f&&n(f,a)}})};angular.module("configurations").directive("grPersist",function(){return{require:"^configurations",scope:{grPersist:"="},link:t}})}(),function(){"use strict";var n=function(n,i,e,o){i.bind("click",function(){o.saveConfigurations()})};angular.module("configurations").directive("grSave",function(){return{restrict:"A",require:"^configurations",scope:{},link:n}})}();