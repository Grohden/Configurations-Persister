!function(){"use strict";angular.module("configurations",[])}(),function(){"use strict";function i(i,t,s){var a=[],u=s,c="/data.json";this.registerOption=function(i,n,e){i.keyID=e,i.willSave=n,a.push(i)},this.saveConfigurations=function(){(n||o)&&console.debug(a);var t;try{t=require("fs")}catch(i){return void((r||o)&&console.error("Require is not defined. Run in a NWJS window/app to save configurations"))}u.configs={};for(var l=0;l<a.length;l++){var f=a[l];u.configs[f.type]||(u.configs[f.type]=[]);var g={keyID:f.keyID};if(f.willSave instanceof Array)for(var v=0;v<f.willSave.length;v++)g[f.willSave[v]]=f[f.willSave[v]];else"auto"==f.willSave||(g[f.willSave]=f[f.willSave]);u.configs[f.type].push(g)}i.$apply(),t.writeFile(process.cwd()+c,angular.toJson(s.configs," "),function(i){i?(r||o)&&console.error("Error saving file:"+i):(e||o)&&console.info("File saved to "+outputFilename)})},this.getData=function(i){t.get(process.cwd()+c).then(i)}}var n=!1,e=!1,o=!0,r=!0;angular.module("configurations").controller("configurationsController",["$scope","$http","sharedConfigurations",i])}(),function(){"use strict";angular.module("configurations").directive("configurations",function(){return{restrict:"E",controller:"configurationsController"}})}(),function(){"use strict";angular.module("configurations").factory("sharedConfigurations",function(){return{configs:{}}})}(),function(){"use strict";var i=!1,n=!0,e=!0,o=function(o,r,t,s){var a=o.$id;(i||e)&&console.debug("Object received in scope:",o.grPersist),o.grPersist||(o.grPersist="auto"),s.registerOption(r[0],o.grPersist,a),s.getData(function(o){var t=o.data;if(angular.equals({},t))return void((n||e)&&console.info("Seems like the file needed to configure views is empty"));var s=r[0],u=s.type,c=t[u];if(c){var l,f;for((i||e)&&console.debug("Searching for id",a,"in",c),f=0;f<c.length;f++)if(c[f].keyID===a){l=c[f],(i||e)&&console.log("found!");break}if(l){var g=Object.keys(l);for(f=0;f<g.length;f++){var v=g[f];s[v]=l[v]}}}})};angular.module("configurations").directive("grPersist",function(){return{require:"^configurations",scope:{grPersist:"="},link:o}})}(),function(){"use strict";var i=function(i,n,e,o){n.bind("click",function(){o.saveConfigurations()})};angular.module("configurations").directive("grSave",function(){return{restrict:"A",require:"^configurations",scope:{},link:i}})}();